-- MySQL dump 10.13  Distrib 8.0.34, for Win64 (x86_64)
--
-- Host: bdaws.c6v1tpnmgqiu.us-east-2.rds.amazonaws.com    Database: SUPERMARKET
-- ------------------------------------------------------
-- Server version	8.0.33

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `CUSTOMERS`
--

DROP TABLE IF EXISTS `CUSTOMERS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CUSTOMERS` (
  `ID_CUSTOMER` int NOT NULL AUTO_INCREMENT,
  `IDENTIFICATION` varchar(15) DEFAULT NULL,
  `FIRSTNAME` varchar(50) DEFAULT NULL,
  `LASTNAME` varchar(50) DEFAULT NULL,
  `ADDRESS` varchar(255) DEFAULT NULL,
  `PHONENUMBER` varchar(20) DEFAULT NULL,
  `EMAIL` varchar(100) DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  `SecurityCode` int DEFAULT NULL,
  PRIMARY KEY (`ID_CUSTOMER`)
) ENGINE=InnoDB AUTO_INCREMENT=53 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CUSTOMERS`
--

LOCK TABLES `CUSTOMERS` WRITE;
/*!40000 ALTER TABLE `CUSTOMERS` DISABLE KEYS */;
INSERT INTO `CUSTOMERS` VALUES (21,'102345678','Ana','Gómez','Calle 1, San José','22233344','ana.gomez@email.com',1,NULL),(22,'205678901','Carlos','Fernández','Avenida 2, Heredia','55566677','carlos.fernandez@email.com',1,NULL),(23,'308901234','María','López','Calle 3, Alajuela','88899900','maria.lopez@email.com',1,NULL),(24,'412345678','Javier','Martínez','Avenida 4, Cartago','11122233','javier.martinez@email.com',1,NULL),(25,'515678901','Sofía','Rodríguez','Calle 5, Puntarenas','44455566','sofia.rodriguez@email.com',1,NULL),(26,'618901234','Alejandro','Hernández','Avenida 6, Limón','77788899','alejandro.hernandez@email.com',1,NULL),(27,'721234567','Laura','Pérez','Calle 7, Guanacaste','33344455','laura.perez@email.com',1,NULL),(28,'824567890','Pedro','Sánchez','Avenida 8, San José','66677788','pedro.sanchez@email.com',1,NULL),(29,'927890123','Isabel','Gutiérrez','Calle 9, Heredia','99900011','isabel.gutierrez@email.com',1,NULL),(30,'103456789','Ricardo','Díaz','Avenida 10, Alajuela','22233344','ricardo.diaz@email.com',1,NULL),(31,'115678901','Carmen','Chaves','Calle 11, Cartago','55566677','carmen.chaves@email.com',1,NULL),(32,'128901234','Juan','Morales','Avenida 12, Puntarenas','88899900','juan.morales@email.com',1,NULL),(33,'132345678','Daniela','Ramírez','Calle 13, Limón','11122233','daniela.ramirez@email.com',1,NULL),(34,'145678901','Miguel','Vargas','Avenida 14, Guanacaste','44455566','miguel.vargas@email.com',1,NULL),(35,'158901234','Gabriela','Fuentes','Calle 15, San José','77788899','gabriela.fuentes@email.com',1,NULL),(36,'162345678','Fernando','Herrera','Avenida 16, Heredia','33344455','fernando.herrera@email.com',1,NULL),(37,'175678901','Adriana','López','Calle 17, Alajuela','66677788','adriana.lopez@email.com',1,NULL),(38,'188901234','Roberto','Gómez','Avenida 18, Cartago','99900011','roberto.gomez@email.com',1,NULL),(39,'192345678','Ana','Fernández','Calle 19, Puntarenas','22233344','ana.fernandez@email.com',1,NULL),(40,'205678901','Carlos','López','Avenida 20, Limón','55566677','carlos.lopez@email.com',1,NULL),(41,'305560277','DAVID SANTIAGO                ','CARRANZA                  GUZMAN                  ','Coope','86647700','david@gamil.com',0,NULL),(42,'305560456','SEBASTIAN JAFET               ','BADILLA                   BADILLA                 ','','23456789','sebasBB@gmail.com',1,NULL),(43,'303180654','MARIA CECILIA                 ','ROBLES                    HIDALGO                 ','Cartago','87765234','maria@gmail.com',1,NULL),(44,'305560277','DAVID SANTIAGO                ','CARRANZA                  GUZMAN                  ','neko@gmaicl.com','76543898','gracianamarch01@gmail.com',1,NULL),(45,'305580388','SEBASTIAN DE LOS ANGELES      ','GOMEZ                     RIVERA                  ','cartago','87654321','sebasgom0514@gmail.com',1,NULL),(46,'305550984','CRISTOPHER                    ','UGALDE                    GRANADOS                ','Coope','65432134','crisug3011@gmail.com',1,NULL),(47,'305540678','YERLIN CAROLINA               ','SOLANO                    RAMIREZ                 ','Coope','75645436','mathiasartaviag@gmail.com',1,NULL),(48,'119260607','JOSE ANDRES                   ','SANCHEZ                   MORA                    ','Diques','23456789','sanchezmorajoseandres@gmail.com',1,NULL),(49,'119380347','SEBASTIAN JESUS               ','ZELEDON                   BOZA                    ','San Jose','34324323','sebastianzeledon08@gmail.com',1,NULL),(50,'305570865','JOPSEL EDUARDO','CERDAS BONILLA','Cartago','23232323','jopselc@gmail.com',1,NULL),(51,'305590061','DANIEL DAVID','RAMIREZ MORA','Cipreses','678543212','daniramirezmora01@gmail.com',1,NULL),(52,'305590927','ANGELICA DE LA TRINIDAD','ZELEDON CHACON','Cipreses','86942765','angelizech2707@gmail.com',1,NULL);
/*!40000 ALTER TABLE `CUSTOMERS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `EMPLOYEES`
--

DROP TABLE IF EXISTS `EMPLOYEES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `EMPLOYEES` (
  `ID_EMPLOYEE` int NOT NULL AUTO_INCREMENT,
  `IDENTIFICATION` varchar(15) DEFAULT NULL,
  `FIRSTNAME` varchar(50) DEFAULT NULL,
  `LASTNAME` varchar(50) DEFAULT NULL,
  `POSITION` int DEFAULT NULL,
  `SALARY` decimal(10,2) DEFAULT NULL,
  `HIRINGDATE` date DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  `PASSWORD` varchar(200) DEFAULT NULL,
  `EMAIL_EMPLOYEES` varchar(200) DEFAULT NULL,
  `SecurityCode` varchar(50) DEFAULT NULL,
  `CodeExpiration` datetime DEFAULT NULL,
  PRIMARY KEY (`ID_EMPLOYEE`),
  KEY `POSITION` (`POSITION`),
  CONSTRAINT `EMPLOYEES_ibfk_1` FOREIGN KEY (`POSITION`) REFERENCES `EMPLOYEE_POSITIONS` (`ID_POSITION`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `EMPLOYEES`
--

LOCK TABLES `EMPLOYEES` WRITE;
/*!40000 ALTER TABLE `EMPLOYEES` DISABLE KEYS */;
INSERT INTO `EMPLOYEES` VALUES (2,'305580388','Sebastian','Gomez',13,700000.00,'2005-04-16',1,'$2y$10$AYsScNsXadAF/xPjns7LVuLxv1gVbUQE3X5xkXMV2qTdGe3HqknVe','sebastiangomez16rivera@outlook.com','null','0000-00-00 00:00:00'),(3,'102345678','Juan','Pérez',1,50001.00,'2023-01-01',1,'$2y$10$PpAIBhyMF1M82FS0BDjXqOr5t5O83P7ffgolIyZxq3p70JZ/6EubW','juan.perez@email.com',NULL,NULL),(4,'205678901','Ana','López',2,60000.00,'2023-02-01',1,'$2y$10$123456789012345678901A3yHg8UjPRd2K0AjGwYSwV0sw1LbT3Yi','ana.lopez@email.com',NULL,NULL),(5,'308901234','Pedro','Gómez',3,70000.00,'2023-03-01',1,'$2y$10$1234567890123456789010sVQb2JiLltqRDvVSx/8XMCzJ9Y3fw1i','pedro.gomez@email.com',NULL,NULL),(6,'412345678','Laura','Martínez',4,55000.00,'2023-04-01',1,'$2y$10$123456789012345678901Te5S5j9kmIgC8xkGpP85uNv3bQ0y2TuG','laura.martinez@email.com',NULL,NULL),(7,'515678901','Carlos','Hernández',5,65000.00,'2023-05-01',1,'$2y$10$123456789012345678901QzEiZzFesFdp3gJhRaX5SV2htoB0W0O','carlos.hernandez@email.com',NULL,NULL),(8,'618901234','Sofía','Ramírez',6,75000.00,'2023-06-01',1,'$2y$10$123456789012345678901IXfr5I2GvZxHv1t9SjgYsJXG5WMmdga','sofia.ramirez@email.com',NULL,NULL),(9,'721234567','Roberto','Sánchez',7,60000.00,'2023-07-01',1,'$2y$10$123456789012345678901o0wFqfr.TsUjgFEgEheKB6UjBqkgrNW','roberto.sanchez@email.com',NULL,NULL),(10,'824567890','Miguel','Gutiérrez',8,70000.00,'2023-08-01',1,'$2y$10$123456789012345678901WkiP/wb6n8Hv6U0qRw96n2iRXf89cI9y','miguel.gutierrez@email.com',NULL,NULL),(11,'927890123','Carmen','Fuentes',9,55000.00,'2023-09-01',1,'$2y$10$123456789012345678901vL8OxGGsU3DngNR6Qo1aZtpAci6sk.2','carmen.fuentes@email.com',NULL,NULL),(12,'103456789','Javier','Díaz',10,80000.00,'2023-10-01',1,'$2y$10$YS3lxr4gi2TCgptYh9vKsOm60nmgKZNhqFb/aaA9rpJlyCOLludf6','javier.diaz@email.com',NULL,NULL),(13,'115678901','Isabel','Chaves',11,75000.00,'2023-11-01',0,'$2y$10$123456789012345678901/YF6yKwL9tfiKbb.VvIxAKGWrWUow/4i','isabel.chaves@email.com',NULL,NULL),(14,'128901234','Ricardo','Morales',12,60000.00,'2023-12-01',1,'$2y$10$123456789012345678901J1ilAMRRgGyALGWhAeT0Cww5dMCsYSW','ricardo.morales@email.com',NULL,NULL),(15,'132345678','Laura','Ramírez',13,70000.00,'2024-01-01',1,'$2y$10$9SkKoaLdUpbTPDwAJY3xS.73/GTsVzAHGjHvfcbe.KBOWZV9BY9KG','laura.ramirez@email.com',NULL,NULL),(16,'145678901','Fernando','Vargas',14,65000.00,'2024-02-01',1,'$2y$10$123456789012345678901CCkI6AYE8arPyakFC0ShSgSQ3w6H.Na','fernando.vargas@email.com',NULL,NULL),(17,'158901234','Ana','Fuentes',15,55000.00,'2024-03-01',1,'$2y$10$123456789012345678901i2wzwph1j/0g0Z4lG9eqnRXT0R7tB9I6','ana.fuentes@email.com',NULL,NULL),(18,'162345678','Carlos','Herrera',16,70000.00,'2024-04-01',1,'$2y$10$123456789012345678901uSwwJ5OMh8AVtmNhHzQrXWPlSDjAJ.W','carlos.herrera@email.com',NULL,NULL),(19,'175678901','Miguel','López',17,75000.00,'2024-05-01',1,'$2y$10$1234567890123456789011TFkgL/MDlXwZV9JwLZ89p7vwmm4cz6y','miguel.lopez@email.com',NULL,NULL),(20,'188901234','Sofía','Gómez',18,60000.00,'2024-06-01',1,'$2y$10$123456789012345678901IKs8dCp3S9WmCJ06YqqcRglH8ufNWU.','sofia.gomez@email.com',NULL,NULL),(23,'305560277','David','Carranza',7,500000.65,'2006-12-17',1,'$2y$10$i.ypXQbhEoLwJ6lCbRGxo.w4Rq5kBm.IxzxUR7ND4vsP5KmAv8KmS','david14@gmail.com',NULL,NULL);
/*!40000 ALTER TABLE `EMPLOYEES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `EMPLOYEE_POSITIONS`
--

DROP TABLE IF EXISTS `EMPLOYEE_POSITIONS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `EMPLOYEE_POSITIONS` (
  `ID_POSITION` int NOT NULL AUTO_INCREMENT,
  `POSITION_NAME` varchar(50) NOT NULL,
  `DESCRIPTION` text,
  `ESTADE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID_POSITION`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `EMPLOYEE_POSITIONS`
--

LOCK TABLES `EMPLOYEE_POSITIONS` WRITE;
/*!40000 ALTER TABLE `EMPLOYEE_POSITIONS` DISABLE KEYS */;
INSERT INTO `EMPLOYEE_POSITIONS` VALUES (1,'Administrador','Encargado general de todo',1),(2,'Gerente','Responsable de supervisar las operaciones diarias.',1),(3,'Desarrollador de Software','Desarrolla y mantiene aplicaciones de software.',1),(4,'Representante de Ventas','Maneja ventas y consultas de clientes.',1),(5,'Especialista en Recursos Humanos','Gestiona tareas relacionadas con recursos humanos y relaciones laborales.',1),(6,'Coordinador de Marketing','Coordina campañas y actividades de marketing.',1),(7,'Analista Financiero','Analiza datos financieros y prepara informes.',1),(8,'Representante de Soporte al Cliente','Brinda soporte a clientes y resuelve problemas.',1),(9,'Probador de Control de Calidad','Asegura la calidad del software a través de pruebas.',1),(10,'Coordinador de Operaciones','Coordina diversas tareas operativas.',1),(11,'Asistente Administrativo','Ayuda con tareas administrativas y gestión de oficina.',1),(12,'Administrador de Redes','Administra y mantiene redes informáticas.',1),(13,'Diseñador Gráfico','Crea contenido visual y gráficos.',1),(14,'Gerente de Proyecto','Gestiona y supervisa el desarrollo de proyectos.',1),(15,'Consejero Legal','Proporciona asesoramiento legal y maneja asuntos legales.',1),(16,'Especialista en Soporte de TI','Brinda soporte técnico para problemas relacionados con TI.',1),(17,'Analista de Investigación','Realiza investigaciones y analiza datos.',1),(18,'Oficial de Salud y Seguridad','Garantiza un entorno de trabajo seguro.',1),(19,'Gerente de Éxito del Cliente','Administra y mejora las relaciones con los clientes.',1),(20,'Coordinador de Eventos','Planifica y coordina eventos y actividades.',1),(21,'Redactor Técnico','Crea documentación y manuales.',1),(22,'ba','ba',0),(23,'Programador Sr .net','Programador',1);
/*!40000 ALTER TABLE `EMPLOYEE_POSITIONS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `INVENTORY`
--

DROP TABLE IF EXISTS `INVENTORY`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `INVENTORY` (
  `ID_INVENTORY` int NOT NULL AUTO_INCREMENT,
  `ID_PRODUCT` int DEFAULT NULL,
  `QUANTITYINSTOCK` int DEFAULT NULL,
  `LASTREPLENISHMENTDATE` date DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID_INVENTORY`),
  KEY `ID_PRODUCT` (`ID_PRODUCT`),
  CONSTRAINT `INVENTORY_ibfk_1` FOREIGN KEY (`ID_PRODUCT`) REFERENCES `PRODUCTS` (`ID_PRODUCT`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `INVENTORY`
--

LOCK TABLES `INVENTORY` WRITE;
/*!40000 ALTER TABLE `INVENTORY` DISABLE KEYS */;
INSERT INTO `INVENTORY` VALUES (1,5,110,'2023-01-01',1),(2,6,150,'2023-02-01',1),(3,7,200,'2023-03-01',1),(4,8,50,'2023-04-01',1),(5,9,73,'2023-08-01',1),(6,10,48,'2023-08-01',1),(7,11,21,'2023-08-01',1),(8,12,92,'2023-08-01',1),(9,14,72,'2023-08-01',1),(10,15,86,'2023-08-01',1),(11,16,103,'2023-08-01',1),(12,17,42,'2023-12-29',1),(13,18,0,'2023-12-29',1),(14,19,46,'2023-12-29',1),(15,20,99,'2024-01-18',1),(16,21,84,'2024-01-18',1),(17,22,85,'2024-01-18',1);
/*!40000 ALTER TABLE `INVENTORY` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `INVENTORY_TRANSACTIONS`
--

DROP TABLE IF EXISTS `INVENTORY_TRANSACTIONS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `INVENTORY_TRANSACTIONS` (
  `ID_TRANSACTION` int NOT NULL AUTO_INCREMENT,
  `TRANSACTIONTYPE` int DEFAULT NULL,
  `ID_PRODUCT` int DEFAULT NULL,
  `QUANTITY` int DEFAULT NULL,
  `TRANSACTIONDATE` date DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID_TRANSACTION`),
  KEY `ID_PRODUCT` (`ID_PRODUCT`),
  KEY `fk_transaction_type` (`TRANSACTIONTYPE`),
  CONSTRAINT `fk_transaction_type` FOREIGN KEY (`TRANSACTIONTYPE`) REFERENCES `TRANSACTIONTYPES` (`ID_TransactionType`),
  CONSTRAINT `INVENTORY_TRANSACTIONS_ibfk_1` FOREIGN KEY (`ID_PRODUCT`) REFERENCES `PRODUCTS` (`ID_PRODUCT`)
) ENGINE=InnoDB AUTO_INCREMENT=261 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `INVENTORY_TRANSACTIONS`
--

LOCK TABLES `INVENTORY_TRANSACTIONS` WRITE;
/*!40000 ALTER TABLE `INVENTORY_TRANSACTIONS` DISABLE KEYS */;
INSERT INTO `INVENTORY_TRANSACTIONS` VALUES (1,1,5,20,'2023-12-29',1),(2,1,5,20,'2023-12-29',1),(3,1,5,10,'2023-12-29',1),(4,1,9,100,'2023-12-29',1),(5,2,9,100,'2023-12-29',1),(8,1,17,10,'2023-12-30',1),(9,1,19,70,'2023-12-31',1),(10,2,9,1,'2023-12-31',1),(11,2,10,1,'2023-12-31',1),(12,2,11,1,'2023-12-31',1),(13,2,9,1,'2023-12-31',1),(14,2,10,1,'2023-12-31',1),(15,2,9,1,'2023-12-31',1),(16,2,10,1,'2023-12-31',1),(17,2,9,1,'2023-12-31',1),(18,2,10,1,'2023-12-31',1),(19,2,11,1,'2023-12-31',1),(20,2,10,1,'2023-12-31',1),(21,2,11,1,'2023-12-31',1),(22,2,9,1,'2023-12-31',1),(23,2,10,1,'2023-12-31',1),(24,2,11,1,'2023-12-31',1),(25,2,12,1,'2023-12-31',1),(26,2,9,1,'2023-12-31',1),(27,2,10,1,'2023-12-31',1),(28,2,9,1,'2023-12-31',1),(29,2,10,1,'2023-12-31',1),(30,2,9,1,'2023-12-31',1),(31,2,10,1,'2023-12-31',1),(32,2,11,1,'2023-12-31',1),(33,2,12,1,'2023-12-31',1),(34,2,14,1,'2023-12-31',1),(35,2,11,1,'2023-12-31',1),(36,2,12,1,'2023-12-31',1),(37,2,14,1,'2023-12-31',1),(38,2,9,1,'2023-12-31',1),(39,2,10,1,'2023-12-31',1),(40,2,11,1,'2023-12-31',1),(41,2,12,1,'2023-12-31',1),(42,2,14,1,'2023-12-31',1),(43,2,9,1,'2023-12-31',1),(44,2,10,1,'2023-12-31',1),(45,2,11,1,'2023-12-31',1),(46,2,10,1,'2023-12-31',1),(47,2,11,1,'2023-12-31',1),(48,2,12,1,'2023-12-31',1),(51,2,10,1,'2023-12-31',1),(52,2,9,1,'2023-12-31',1),(53,2,11,1,'2023-12-31',1),(54,2,10,12,'2023-12-31',1),(55,2,12,3,'2023-12-31',1),(56,2,14,5,'2023-12-31',1),(57,2,9,20,'2024-01-01',1),(58,2,9,20,'2024-01-01',1),(59,2,11,1,'2024-01-01',1),(60,2,9,10,'2024-01-01',1),(61,2,10,20,'2024-01-01',1),(62,2,9,20,'2024-01-01',1),(63,2,10,10,'2024-01-01',1),(64,2,19,10,'2024-01-01',1),(65,2,17,5,'2024-01-01',1),(66,2,9,1,'2024-01-01',1),(67,2,10,1,'2024-01-01',1),(68,2,15,1,'2024-01-01',1),(69,2,10,1,'2024-01-01',1),(70,2,11,10,'2024-01-01',1),(71,2,17,10,'2024-01-01',1),(72,2,14,10,'2024-01-01',1),(73,2,15,10,'2024-01-01',1),(74,1,17,60,'2024-01-01',1),(75,2,19,2,'2024-01-03',1),(76,2,17,4,'2024-01-03',1),(77,2,11,50,'2024-01-04',1),(78,2,9,1,'2024-01-05',1),(79,2,10,1,'2024-01-05',1),(80,2,11,1,'2024-01-05',1),(81,2,9,1,'2024-01-05',1),(82,2,15,1,'2024-01-05',1),(83,2,16,1,'2024-01-05',1),(84,2,9,1,'2024-01-05',1),(85,2,10,1,'2024-01-05',1),(86,2,9,1,'2024-01-05',1),(87,2,10,1,'2024-01-05',1),(88,2,11,1,'2024-01-05',1),(89,2,9,1,'2024-01-05',1),(90,2,10,1,'2024-01-05',1),(91,2,9,1,'2024-01-05',1),(92,2,10,1,'2024-01-05',1),(93,2,11,1,'2024-01-05',1),(94,2,9,1,'2024-01-05',1),(95,2,10,1,'2024-01-05',1),(96,2,10,1,'2024-01-05',1),(97,2,10,1,'2024-01-05',1),(98,2,11,1,'2024-01-05',1),(99,2,9,1,'2024-01-05',1),(100,2,10,1,'2024-01-05',1),(101,2,9,1,'2024-01-05',1),(102,2,10,1,'2024-01-05',1),(103,2,10,1,'2024-01-05',1),(104,2,11,1,'2024-01-05',1),(105,2,17,1,'2024-01-05',1),(106,2,16,1,'2024-01-05',1),(107,2,15,1,'2024-01-05',1),(108,2,9,1,'2024-01-05',1),(109,2,11,1,'2024-01-05',1),(110,2,12,1,'2024-01-05',1),(111,2,16,1,'2024-01-05',1),(112,2,15,1,'2024-01-05',1),(113,2,11,1,'2024-01-05',1),(114,2,9,1,'2024-01-05',1),(115,2,9,1,'2024-01-05',1),(116,2,10,1,'2024-01-05',1),(117,2,9,1,'2024-01-05',1),(118,2,10,1,'2024-01-05',1),(119,2,12,1,'2024-01-05',1),(120,2,9,1,'2024-01-05',1),(121,2,10,1,'2024-01-05',1),(122,2,9,1,'2024-01-05',1),(123,2,9,1,'2024-01-05',1),(124,2,10,6,'2024-01-05',1),(125,2,11,4,'2024-01-05',1),(126,2,17,1,'2024-01-05',1),(127,2,10,1,'2024-01-05',1),(128,2,11,1,'2024-01-05',1),(129,2,12,10,'2024-01-05',1),(130,2,14,10,'2024-01-05',1),(131,2,11,1,'2024-01-05',1),(132,2,12,1,'2024-01-05',1),(133,2,14,5,'2024-01-05',1),(134,2,10,1,'2024-01-05',1),(135,2,11,1,'2024-01-05',1),(136,2,12,1,'2024-01-05',1),(137,2,9,1,'2024-01-05',1),(138,2,10,1,'2024-01-05',1),(139,2,10,1,'2024-01-05',1),(140,2,11,1,'2024-01-05',1),(141,2,16,1,'2024-01-05',1),(142,2,17,1,'2024-01-05',1),(143,2,14,1,'2024-01-05',1),(144,2,10,1,'2024-01-05',1),(145,2,11,1,'2024-01-05',1),(146,2,11,1,'2024-01-06',1),(147,2,10,1,'2024-01-06',1),(148,2,9,1,'2024-01-06',1),(149,2,10,1,'2024-01-06',1),(150,2,9,1,'2024-01-06',1),(151,2,10,1,'2024-01-06',1),(152,2,9,1,'2024-01-06',1),(153,2,10,1,'2024-01-06',1),(154,2,9,1,'2024-01-06',1),(155,2,10,1,'2024-01-06',1),(156,2,9,1,'2024-01-06',1),(157,2,10,1,'2024-01-06',1),(158,2,14,5,'2024-01-06',1),(159,2,15,3,'2024-01-06',1),(160,2,16,1,'2024-01-06',1),(161,2,17,1,'2024-01-06',1),(162,2,9,6,'2024-01-06',1),(163,2,10,1,'2024-01-06',1),(164,2,9,1,'2024-01-06',1),(165,2,10,5,'2024-01-06',1),(166,2,11,2,'2024-01-06',1),(167,2,17,1,'2024-01-06',1),(168,2,15,2,'2024-01-06',1),(169,2,9,1,'2024-01-07',1),(170,2,10,1,'2024-01-07',1),(171,2,9,1,'2024-01-09',1),(172,2,10,1,'2024-01-09',1),(173,2,11,1,'2024-01-09',1),(174,2,12,1,'2024-01-09',1),(175,2,14,1,'2024-01-09',1),(176,2,15,1,'2024-01-09',1),(177,2,16,1,'2024-01-09',1),(178,2,17,1,'2024-01-09',1),(179,2,19,1,'2024-01-09',1),(180,2,9,6,'2024-01-12',1),(181,2,10,4,'2024-01-12',1),(182,2,9,1,'2024-01-15',1),(183,2,10,1,'2024-01-15',1),(184,2,11,1,'2024-01-15',1),(185,2,9,1,'2024-01-15',1),(186,2,19,1,'2024-01-15',1),(187,2,11,1,'2024-01-16',1),(188,2,19,2,'2024-01-16',1),(189,2,12,2,'2024-01-16',1),(190,2,17,1,'2024-01-16',1),(191,2,15,3,'2024-01-16',1),(192,2,21,1,'2024-01-18',1),(193,2,20,1,'2024-01-18',1),(194,2,9,1,'2024-01-18',1),(195,2,17,1,'2024-01-18',1),(196,2,20,25,'2024-01-18',1),(197,2,22,3,'2024-01-18',1),(198,2,21,10,'2024-01-18',1),(199,2,19,5,'2024-01-18',1),(200,1,22,100,'2024-01-18',1),(201,1,20,100,'2024-01-18',1),(202,1,21,100,'2024-01-18',1),(203,2,20,1,'2024-01-20',1),(204,2,9,0,'2024-01-20',1),(205,2,9,50,'2024-01-20',1),(206,1,9,100,'2024-01-20',1),(207,2,10,3,'2024-01-29',1),(208,2,20,1,'2024-02-01',1),(209,2,22,1,'2024-02-01',1),(210,2,20,1,'2024-02-01',1),(211,2,14,1,'2024-02-01',1),(212,2,22,1,'2024-02-01',1),(213,2,17,1,'2024-02-01',1),(214,2,16,1,'2024-02-01',1),(215,2,15,1,'2024-02-01',1),(216,2,9,1,'2024-02-01',1),(217,2,9,1,'2024-02-01',1),(218,2,9,1,'2024-02-01',1),(219,2,9,1,'2024-02-01',1),(220,2,9,1,'2024-02-01',1),(221,2,9,1,'2024-02-01',1),(222,2,9,1,'2024-02-01',1),(223,2,9,1,'2024-02-01',1),(224,2,20,10,'2024-02-03',1),(225,2,14,2,'2024-02-03',1),(226,2,21,5,'2024-02-03',1),(227,2,11,3,'2024-02-03',1),(228,2,20,10,'2024-02-04',1),(229,2,22,10,'2024-02-04',1),(230,2,20,51,'2024-02-04',1),(231,2,9,10,'2024-02-04',1),(232,2,14,3,'2024-02-04',1),(233,2,9,2,'2024-02-04',1),(234,2,10,1,'2024-02-04',1),(235,2,9,1,'2024-02-04',1),(236,2,9,1,'2024-02-04',1),(237,2,9,1,'2024-02-04',1),(238,2,9,1,'2024-02-04',1),(239,2,9,1,'2024-02-04',1),(240,2,9,1,'2024-02-04',1),(241,2,11,1,'2024-02-04',1),(242,2,12,1,'2024-02-04',1),(243,2,9,1,'2024-02-04',1),(244,2,9,1,'2024-02-04',1),(245,2,9,1,'2024-02-04',1),(246,2,9,1,'2024-02-04',1),(247,2,10,1,'2024-02-04',1),(248,2,9,1,'2024-02-04',1),(249,2,9,1,'2024-02-04',1),(250,2,9,1,'2024-02-04',1),(251,2,10,1,'2024-02-04',1),(252,1,20,100,'2024-02-15',1),(253,1,9,12,'2024-02-15',1),(254,2,11,2,'2024-02-15',1),(255,2,9,2,'2024-02-15',1),(256,2,20,1,'2024-02-15',1),(257,2,9,2,'2024-02-25',1),(258,2,19,3,'2024-02-25',1),(259,2,11,1,'2024-02-25',1),(260,2,9,1,'2024-02-25',1);
/*!40000 ALTER TABLE `INVENTORY_TRANSACTIONS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PRODUCTS`
--

DROP TABLE IF EXISTS `PRODUCTS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PRODUCTS` (
  `ID_PRODUCT` int NOT NULL AUTO_INCREMENT,
  `NAME` varchar(100) NOT NULL,
  `DESCRIPTION` text,
  `PRICE` decimal(10,2) DEFAULT NULL,
  `CATEGORY` int DEFAULT NULL,
  `SUPPLIER` int DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  `IMAGE_PATH` varchar(10000) DEFAULT NULL,
  PRIMARY KEY (`ID_PRODUCT`),
  KEY `IDCATEGORY` (`CATEGORY`),
  KEY `IDSUPPLIER` (`SUPPLIER`),
  CONSTRAINT `IDCATEGORY` FOREIGN KEY (`CATEGORY`) REFERENCES `PRODUCT_CATEGORIES` (`ID_CATEGORY`),
  CONSTRAINT `IDSUPPLIER` FOREIGN KEY (`SUPPLIER`) REFERENCES `SUPPLIERS` (`ID_SUPPLIER`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PRODUCTS`
--

LOCK TABLES `PRODUCTS` WRITE;
/*!40000 ALTER TABLE `PRODUCTS` DISABLE KEYS */;
INSERT INTO `PRODUCTS` VALUES (5,'Tapita','Tapita Navidenna',565.00,1,2,0,'./Vista/filesRepository/Productstapita.png'),(6,'Helado Tapita','Helado sabor a tapita',1460.58,1,1,0,'./Vista/filesRepository/ProductsHeladoTapita.png'),(7,'Leche Pinito','Leche en polvo',2345.00,1,1,0,'./Vista/filesRepository/ProductsLechePinito.jpg'),(8,'Tapita','Tapita',1300.00,1,1,0,'./Vista/filesRepository/Products/tapita.png'),(9,'Huevos','Huevos',2500.00,1,26,1,'./Vista/filesRepository/Products/huevos.webp'),(10,'Queso Crema','Queso Crema',500.00,1,1,1,'./Vista/filesRepository/Products/quesocrema.webp'),(11,'Coca Cola','Coca Cola',1100.00,4,29,1,'./Vista/filesRepository/Products/cocacola.webp'),(12,'Milory Kolita','Milory Kolita',1200.00,4,25,1,'./Vista/filesRepository/Products/milory.webp'),(13,'Papas Congeladas','Papas Congeladas',2750.00,6,29,0,'./Vista/filesRepository/Products/papas.png'),(14,'Papas Congeladas','Papas Congeladas',2570.00,6,29,1,'./Vista/filesRepository/Products/342183-1200-900.png'),(15,'Carne Hamburguesas','Carne Hamburguesas',5900.00,3,30,1,'./Vista/filesRepository/Products/284777-1200-900.webp'),(16,'Pepsi','Pepsi',2000.00,4,26,1,'./Vista/filesRepository/Products/409263-1200-900.webp'),(17,'Pan Bimbo','Pan Bimbo',2000.00,7,30,1,'./Vista/filesRepository/Products/pan bimbo.webp'),(18,'Pan Bimbo','Pan Bimbo',2000.00,7,30,0,'./Vista/filesRepository/Products/pan bimbo.webp'),(19,'Galleta Julieta Dulce','Galleta Julieta Dulce',1060.00,7,25,1,'./Vista/filesRepository/Products/175611-1200-900.webp'),(20,'Condones','Condones',2450.00,12,1,0,'./Vista/filesRepository/Products/257362-1200-900.webp'),(21,'Fanta Naranja','Fanta Naranja',770.00,4,27,0,'./Vista/filesRepository/Products/489455-1200-900.webp'),(22,'Cacique','Cacique',4390.00,21,25,0,'./Vista/filesRepository/Products/282513-1200-900.webp');
/*!40000 ALTER TABLE `PRODUCTS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PRODUCT_CATEGORIES`
--

DROP TABLE IF EXISTS `PRODUCT_CATEGORIES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PRODUCT_CATEGORIES` (
  `ID_CATEGORY` int NOT NULL AUTO_INCREMENT,
  `CATEGORYNAME` varchar(50) DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID_CATEGORY`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PRODUCT_CATEGORIES`
--

LOCK TABLES `PRODUCT_CATEGORIES` WRITE;
/*!40000 ALTER TABLE `PRODUCT_CATEGORIES` DISABLE KEYS */;
INSERT INTO `PRODUCT_CATEGORIES` VALUES (1,'Lacteos',1),(2,'Frutas',1),(3,'Carnes',1),(4,'Bebidas ',1),(5,'Cereales',0),(6,'Congelados',1),(7,'Panadería',1),(8,'Dulces',1),(9,'Cuidado Personal',1),(10,'Productos de limpieza',1),(11,'Snacks',1),(12,'Pescados y mariscos',1),(13,'Pastas',1),(14,'Salsas y condimentos',1),(15,'Productos orgánicos',1),(16,'Utensilios de cocina',1),(17,'Bebés y niños',1),(18,'Comida rápida',1),(19,'Quesos',1),(20,'Vegetales',1),(21,'Bebidas Alcoholicas',1),(22,'a',0);
/*!40000 ALTER TABLE `PRODUCT_CATEGORIES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SALES`
--

DROP TABLE IF EXISTS `SALES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `SALES` (
  `ID_SALE` int NOT NULL AUTO_INCREMENT,
  `ID_CUSTOMER` int DEFAULT NULL,
  `SALEDATE` date DEFAULT NULL,
  `TOTALSALE` decimal(10,2) DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  `SUBTOTAL` decimal(10,2) DEFAULT NULL,
  `IVA` decimal(10,2) DEFAULT NULL,
  PRIMARY KEY (`ID_SALE`),
  KEY `ID_CUSTOMER` (`ID_CUSTOMER`),
  CONSTRAINT `SALES_ibfk_1` FOREIGN KEY (`ID_CUSTOMER`) REFERENCES `CUSTOMERS` (`ID_CUSTOMER`)
) ENGINE=InnoDB AUTO_INCREMENT=115 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `SALES`
--

LOCK TABLES `SALES` WRITE;
/*!40000 ALTER TABLE `SALES` DISABLE KEYS */;
INSERT INTO `SALES` VALUES (12,32,'2024-01-01',35030.00,1,31000.00,4030.00),(13,37,'2024-01-01',95711.00,1,84700.00,11011.00),(14,44,'2024-01-03',11435.60,1,10120.00,1315.60),(15,44,'2024-01-04',62150.00,1,55000.00,7150.00),(16,26,'2024-01-05',4633.00,1,4100.00,533.00),(17,26,'2024-01-05',11752.00,1,10400.00,1352.00),(18,22,'2024-01-05',3390.00,1,3000.00,390.00),(19,29,'2024-01-05',4633.00,1,4100.00,533.00),(20,23,'2024-01-05',3390.00,1,3000.00,390.00),(21,27,'2024-01-05',2825.00,1,2500.00,325.00),(22,22,'2024-01-05',1808.00,1,1600.00,208.00),(23,23,'2024-01-05',3390.00,1,3000.00,390.00),(24,25,'2024-01-05',565.00,1,500.00,65.00),(25,22,'2024-01-05',1808.00,1,1600.00,208.00),(26,23,'2024-01-05',3390.00,1,3000.00,390.00),(27,22,'2024-01-05',3390.00,1,3000.00,390.00),(28,23,'2024-01-05',1808.00,1,1600.00,208.00),(29,23,'2024-01-05',11187.00,1,9900.00,1287.00),(30,42,'2024-01-05',2825.00,1,2500.00,325.00),(31,43,'2024-01-05',2599.00,1,2300.00,299.00),(32,24,'2024-01-05',8927.00,1,7900.00,1027.00),(33,25,'2024-01-05',1243.00,1,1100.00,143.00),(34,25,'2024-01-05',2825.00,1,2500.00,325.00),(35,24,'2024-01-05',2825.00,1,2500.00,325.00),(36,22,'2024-01-05',565.00,1,500.00,65.00),(37,25,'2024-01-05',3390.00,1,3000.00,390.00),(38,23,'2024-01-05',1356.00,1,1200.00,156.00),(39,45,'2024-01-05',2825.00,1,2500.00,325.00),(40,45,'2024-01-05',3390.00,1,3000.00,390.00),(41,45,'2024-01-05',2825.00,1,2500.00,325.00),(42,45,'2024-01-05',8362.00,1,7400.00,962.00),(43,45,'2024-01-05',2260.00,1,2000.00,260.00),(44,22,'2024-01-05',1808.00,1,1600.00,208.00),(45,45,'2024-01-05',42601.00,1,37700.00,4901.00),(46,45,'2024-01-05',2599.00,1,2300.00,299.00),(47,45,'2024-01-05',14520.50,1,12850.00,1670.50),(48,45,'2024-01-05',3164.00,1,2800.00,364.00),(49,45,'2024-01-05',3390.00,1,3000.00,390.00),(50,45,'2024-01-05',1808.00,1,1600.00,208.00),(51,45,'2024-01-05',4520.00,1,4000.00,520.00),(52,45,'2024-01-05',2904.10,1,2570.00,334.10),(53,45,'2024-01-05',1808.00,1,1600.00,208.00),(54,45,'2024-01-06',1808.00,1,1600.00,208.00),(55,45,'2024-01-06',3390.00,1,3000.00,390.00),(56,21,'2024-01-06',3390.00,1,3000.00,390.00),(57,22,'2024-01-06',3390.00,1,3000.00,390.00),(58,21,'2024-01-06',3390.00,1,3000.00,390.00),(59,22,'2024-01-06',3390.00,1,3000.00,390.00),(60,45,'2024-01-06',34521.50,1,30550.00,3971.50),(61,45,'2024-01-06',4520.00,1,4000.00,520.00),(62,45,'2024-01-06',17515.00,1,15500.00,2015.00),(63,45,'2024-01-06',8136.00,1,7200.00,936.00),(64,45,'2024-01-06',15594.00,1,13800.00,1794.00),(65,45,'2024-01-07',3390.00,1,3000.00,390.00),(66,45,'2024-01-09',21277.90,1,18830.00,2447.90),(67,45,'2024-01-12',19210.00,1,17000.00,2210.00),(68,21,'2024-01-15',4633.00,1,4100.00,533.00),(69,23,'2024-01-15',4022.80,1,3560.00,462.80),(70,46,'2024-01-16',3638.60,1,3220.00,418.60),(71,47,'2024-01-16',24973.00,1,22100.00,2873.00),(72,48,'2024-01-18',5957.87,1,5272.45,685.42),(73,49,'2024-01-18',98785.00,1,87420.00,11365.00),(74,45,'2024-01-20',2770.00,1,2450.00,320.00),(75,21,'2024-01-20',141250.00,1,125000.00,16250.00),(76,45,'2024-01-29',1490.00,1,1320.00,170.00),(77,44,'2024-02-01',7730.00,1,6840.00,890.00),(78,44,'2024-02-01',10635.00,1,9410.00,1225.00),(79,44,'2024-02-01',11185.00,1,9900.00,1285.00),(80,45,'2024-02-01',2825.00,1,2500.00,325.00),(81,45,'2024-02-01',2825.00,1,2500.00,325.00),(82,44,'2024-02-01',2825.00,1,2500.00,325.00),(83,45,'2024-02-01',2825.00,1,2500.00,325.00),(84,45,'2024-02-01',2825.00,1,2500.00,325.00),(85,45,'2024-02-01',2825.00,1,2500.00,325.00),(86,45,'2024-02-01',2825.00,1,2500.00,325.00),(87,45,'2024-02-01',2825.00,1,2500.00,325.00),(88,44,'2024-02-03',41575.00,1,36790.00,4785.00),(89,50,'2024-02-04',77290.00,1,68400.00,8890.00),(90,51,'2024-02-04',169445.00,1,149950.00,19495.00),(91,45,'2024-02-04',8710.00,1,7710.00,1000.00),(92,45,'2024-02-04',5650.00,1,5000.00,650.00),(93,45,'2024-02-04',565.00,1,500.00,65.00),(94,29,'2024-02-04',2825.00,1,2500.00,325.00),(95,22,'2024-02-04',2825.00,1,2500.00,325.00),(96,21,'2024-02-04',2825.00,1,2500.00,325.00),(97,23,'2024-02-04',2825.00,1,2500.00,325.00),(98,22,'2024-02-04',2825.00,1,2500.00,325.00),(99,24,'2024-02-04',2825.00,1,2500.00,325.00),(100,45,'2024-02-04',1245.00,1,1100.00,145.00),(101,45,'2024-02-04',1355.00,1,1200.00,155.00),(102,45,'2024-02-04',2825.00,1,2500.00,325.00),(103,45,'2024-02-04',2825.00,1,2500.00,325.00),(104,45,'2024-02-04',2825.00,1,2500.00,325.00),(105,25,'2024-02-04',2825.00,1,2500.00,325.00),(106,45,'2024-02-04',565.00,1,500.00,65.00),(107,45,'2024-02-04',2825.00,1,2500.00,325.00),(108,45,'2024-02-04',2825.00,1,2500.00,325.00),(109,45,'2024-02-04',2825.00,1,2500.00,325.00),(110,45,'2024-02-04',565.00,1,500.00,65.00),(111,45,'2024-02-15',10905.00,1,9650.00,1255.00),(112,52,'2024-02-25',9245.00,1,8180.00,1065.00),(113,45,'2024-02-25',1245.00,1,1100.00,145.00),(114,45,'2024-02-25',2825.00,1,2500.00,325.00);
/*!40000 ALTER TABLE `SALES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SALES_DETAIL`
--

DROP TABLE IF EXISTS `SALES_DETAIL`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `SALES_DETAIL` (
  `ID_SALEDETAIL` int NOT NULL AUTO_INCREMENT,
  `ID_SALE` int DEFAULT NULL,
  `ID_PRODUCT` int DEFAULT NULL,
  `QUANTITYSOLD` int DEFAULT NULL,
  `UNITPRICE` decimal(10,2) DEFAULT NULL,
  `SUBTOTALPRODUCT` decimal(10,2) DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID_SALEDETAIL`),
  KEY `ID_SALE` (`ID_SALE`),
  KEY `ID_PRODUCT` (`ID_PRODUCT`),
  CONSTRAINT `SALES_DETAIL_ibfk_1` FOREIGN KEY (`ID_SALE`) REFERENCES `SALES` (`ID_SALE`),
  CONSTRAINT `SALES_DETAIL_ibfk_2` FOREIGN KEY (`ID_PRODUCT`) REFERENCES `PRODUCTS` (`ID_PRODUCT`)
) ENGINE=InnoDB AUTO_INCREMENT=249 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `SALES_DETAIL`
--

LOCK TABLES `SALES_DETAIL` WRITE;
/*!40000 ALTER TABLE `SALES_DETAIL` DISABLE KEYS */;
INSERT INTO `SALES_DETAIL` VALUES (65,12,11,10,1100.00,11000.00,1),(66,12,17,10,2000.00,20000.00,1),(67,13,14,10,2570.00,25700.00,1),(68,13,15,10,5900.00,59000.00,1),(69,14,19,2,1060.00,2120.00,1),(70,14,17,4,2000.00,8000.00,1),(71,15,11,50,1100.00,55000.00,1),(72,16,9,1,2500.00,2500.00,1),(73,16,10,1,500.00,500.00,1),(74,16,11,1,1100.00,1100.00,1),(75,17,9,1,2500.00,2500.00,1),(76,17,15,1,5900.00,5900.00,1),(77,17,16,1,2000.00,2000.00,1),(78,18,9,1,2500.00,2500.00,1),(79,18,10,1,500.00,500.00,1),(80,19,9,1,2500.00,2500.00,1),(81,19,10,1,500.00,500.00,1),(82,19,11,1,1100.00,1100.00,1),(83,20,9,1,2500.00,2500.00,1),(84,20,10,1,500.00,500.00,1),(85,21,9,1,2500.00,2500.00,1),(86,22,10,1,500.00,500.00,1),(87,22,11,1,1100.00,1100.00,1),(88,23,9,1,2500.00,2500.00,1),(89,23,10,1,500.00,500.00,1),(90,24,10,1,500.00,500.00,1),(91,25,10,1,500.00,500.00,1),(92,25,11,1,1100.00,1100.00,1),(93,26,9,1,2500.00,2500.00,1),(94,26,10,1,500.00,500.00,1),(95,27,9,1,2500.00,2500.00,1),(96,27,10,1,500.00,500.00,1),(97,28,10,1,500.00,500.00,1),(98,28,11,1,1100.00,1100.00,1),(99,29,17,1,2000.00,2000.00,1),(100,29,16,1,2000.00,2000.00,1),(101,29,15,1,5900.00,5900.00,1),(102,30,9,1,2500.00,2500.00,1),(103,31,11,1,1100.00,1100.00,1),(104,31,12,1,1200.00,1200.00,1),(105,32,16,1,2000.00,2000.00,1),(106,32,15,1,5900.00,5900.00,1),(107,33,11,1,1100.00,1100.00,1),(108,34,9,1,2500.00,2500.00,1),(109,35,9,1,2500.00,2500.00,1),(110,36,10,1,500.00,500.00,1),(111,37,9,1,2500.00,2500.00,1),(112,37,10,1,500.00,500.00,1),(113,38,12,1,1200.00,1200.00,1),(114,39,9,1,2500.00,2500.00,1),(115,40,10,1,500.00,500.00,1),(116,40,9,1,2500.00,2500.00,1),(117,41,9,1,2500.00,2500.00,1),(118,42,10,6,500.00,3000.00,1),(119,42,11,4,1100.00,4400.00,1),(120,43,17,1,2000.00,2000.00,1),(121,44,10,1,500.00,500.00,1),(122,44,11,1,1100.00,1100.00,1),(123,45,12,10,1200.00,12000.00,1),(124,45,14,10,2570.00,25700.00,1),(125,46,11,1,1100.00,1100.00,1),(126,46,12,1,1200.00,1200.00,1),(127,47,14,5,2570.00,12850.00,1),(128,48,10,1,500.00,500.00,1),(129,48,11,1,1100.00,1100.00,1),(130,48,12,1,1200.00,1200.00,1),(131,49,9,1,2500.00,2500.00,1),(132,49,10,1,500.00,500.00,1),(133,50,10,1,500.00,500.00,1),(134,50,11,1,1100.00,1100.00,1),(135,51,16,1,2000.00,2000.00,1),(136,51,17,1,2000.00,2000.00,1),(137,52,14,1,2570.00,2570.00,1),(138,53,10,1,500.00,500.00,1),(139,53,11,1,1100.00,1100.00,1),(140,54,11,1,1100.00,1100.00,1),(141,54,10,1,500.00,500.00,1),(142,55,9,1,2500.00,2500.00,1),(143,55,10,1,500.00,500.00,1),(144,56,9,1,2500.00,2500.00,1),(145,56,10,1,500.00,500.00,1),(146,57,9,1,2500.00,2500.00,1),(147,57,10,1,500.00,500.00,1),(148,58,9,1,2500.00,2500.00,1),(149,58,10,1,500.00,500.00,1),(150,59,9,1,2500.00,2500.00,1),(151,59,10,1,500.00,500.00,1),(152,60,14,5,2570.00,12850.00,1),(153,60,15,3,5900.00,17700.00,1),(154,61,16,1,2000.00,2000.00,1),(155,61,17,1,2000.00,2000.00,1),(156,62,9,6,2500.00,15000.00,1),(157,62,10,1,500.00,500.00,1),(158,63,9,1,2500.00,2500.00,1),(159,63,10,5,500.00,2500.00,1),(160,63,11,2,1100.00,2200.00,1),(161,64,17,1,2000.00,2000.00,1),(162,64,15,2,5900.00,11800.00,1),(163,65,9,1,2500.00,2500.00,1),(164,65,10,1,500.00,500.00,1),(165,66,9,1,2500.00,2500.00,1),(166,66,10,1,500.00,500.00,1),(167,66,11,1,1100.00,1100.00,1),(168,66,12,1,1200.00,1200.00,1),(169,66,14,1,2570.00,2570.00,1),(170,66,15,1,5900.00,5900.00,1),(171,66,16,1,2000.00,2000.00,1),(172,66,17,1,2000.00,2000.00,1),(173,66,19,1,1060.00,1060.00,1),(174,67,9,6,2500.00,15000.00,1),(175,67,10,4,500.00,2000.00,1),(176,68,9,1,2500.00,2500.00,1),(177,68,10,1,500.00,500.00,1),(178,68,11,1,1100.00,1100.00,1),(179,69,9,1,2500.00,2500.00,1),(180,69,19,1,1060.00,1060.00,1),(181,70,11,1,1100.00,1100.00,1),(182,70,19,2,1060.00,2120.00,1),(183,71,12,2,1200.00,2400.00,1),(184,71,17,1,2000.00,2000.00,1),(185,71,15,3,5900.00,17700.00,1),(186,72,21,1,770.00,770.00,1),(187,72,20,1,2.45,2.45,1),(188,72,9,1,2500.00,2500.00,1),(189,72,17,1,2000.00,2000.00,1),(190,73,20,25,2450.00,61250.00,1),(191,73,22,3,4390.00,13170.00,1),(192,73,21,10,770.00,7700.00,1),(193,73,19,5,1060.00,5300.00,1),(194,74,20,1,2450.00,2450.00,1),(196,75,9,50,2500.00,125000.00,1),(197,76,10,3,440.00,1320.00,1),(198,77,20,1,2450.00,2450.00,1),(199,77,22,1,4390.00,4390.00,1),(200,78,20,1,2450.00,2450.00,1),(201,78,14,1,2570.00,2570.00,1),(202,78,22,1,4390.00,4390.00,1),(203,79,17,1,2000.00,2000.00,1),(204,79,16,1,2000.00,2000.00,1),(205,79,15,1,5900.00,5900.00,1),(206,80,9,1,2500.00,2500.00,1),(207,81,9,1,2500.00,2500.00,1),(208,82,9,1,2500.00,2500.00,1),(209,83,9,1,2500.00,2500.00,1),(210,84,9,1,2500.00,2500.00,1),(211,85,9,1,2500.00,2500.00,1),(212,86,9,1,2500.00,2500.00,1),(213,87,9,1,2500.00,2500.00,1),(214,88,20,10,2450.00,24500.00,1),(215,88,14,2,2570.00,5140.00,1),(216,88,21,5,770.00,3850.00,1),(217,88,11,3,1100.00,3300.00,1),(218,89,20,10,2450.00,24500.00,1),(219,89,22,10,4390.00,43900.00,1),(220,90,20,51,2450.00,124950.00,1),(221,90,9,10,2500.00,25000.00,1),(222,91,14,3,2570.00,7710.00,1),(223,92,9,2,2500.00,5000.00,1),(224,93,10,1,500.00,500.00,1),(225,94,9,1,2500.00,2500.00,1),(226,95,9,1,2500.00,2500.00,1),(227,96,9,1,2500.00,2500.00,1),(228,97,9,1,2500.00,2500.00,1),(229,98,9,1,2500.00,2500.00,1),(230,99,9,1,2500.00,2500.00,1),(231,100,11,1,1100.00,1100.00,1),(232,101,12,1,1200.00,1200.00,1),(233,102,9,1,2500.00,2500.00,1),(234,103,9,1,2500.00,2500.00,1),(235,104,9,1,2500.00,2500.00,1),(236,105,9,1,2500.00,2500.00,1),(237,106,10,1,500.00,500.00,1),(238,107,9,1,2500.00,2500.00,1),(239,108,9,1,2500.00,2500.00,1),(240,109,9,1,2500.00,2500.00,1),(241,110,10,1,500.00,500.00,1),(242,111,11,2,1100.00,2200.00,1),(243,111,9,2,2500.00,5000.00,1),(244,111,20,1,2450.00,2450.00,1),(245,112,9,2,2500.00,5000.00,1),(246,112,19,3,1060.00,3180.00,1),(247,113,11,1,1100.00,1100.00,1),(248,114,9,1,2500.00,2500.00,1);
/*!40000 ALTER TABLE `SALES_DETAIL` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SUPPLIERS`
--

DROP TABLE IF EXISTS `SUPPLIERS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `SUPPLIERS` (
  `ID_SUPPLIER` int NOT NULL AUTO_INCREMENT,
  `COMPANYNAME` varchar(100) DEFAULT NULL,
  `CONTACTPERSON` varchar(100) DEFAULT NULL,
  `PHONENUMBER` varchar(20) DEFAULT NULL,
  `EMAIL` varchar(100) DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID_SUPPLIER`)
) ENGINE=InnoDB AUTO_INCREMENT=44 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `SUPPLIERS`
--

LOCK TABLES `SUPPLIERS` WRITE;
/*!40000 ALTER TABLE `SUPPLIERS` DISABLE KEYS */;
INSERT INTO `SUPPLIERS` VALUES (1,'Dos Pinos','Alfredo Martinez','25302067','dospinos@gmail.com',1),(2,'Gallito','Jose Luis','25523456','gallito@gmail.com',1),(24,'ABC Foods','John Smith','12345678','john.smith@abcfoods.com',1),(25,'XYZ Suppliers','Jane Doe','98765432','jane.doe@xyzsuppliers.com',1),(26,'Fresh Mart','Robert Johnson','55512345','robert.johnson@freshmart.com',1),(27,'Quality Meats','Susan Davis','33378901','susan.davis@qualitymeats.com',1),(28,'Super Beverages','Michael Thompson','77788899','michael.thompson@superbeverages.com',1),(29,'Frozen Delights','Emily White','11122233','emily.white@frozendelights.com',1),(30,'Bakery Heaven','David Lee','44455566','david.lee@bakeryheaven.com',1),(31,'Sweet Dreams','Jessica Miller','66699911','jessica.miller@sweetdreams.com',1),(32,'Personal Care Pro','Kevin Brown','22233344','kevin.brown@personalcarepro.com',1),(33,'Cleaning Solutions','Amanda Taylor','88877766','amanda.taylor@cleaningsolutions.com',1),(34,'Snack Haven','Richard Wilson','11122233','richard.wilson@snackhaven.com',1),(35,'Seafood Delight','Karen Anderson','55544433','karen.anderson@seafooddelight.com',1),(36,'Pasta Paradise','Daniel Garcia','99988877','daniel.garcia@pastaparadise.com',1),(37,'Spice World','Jennifer Brown','33322211','jennifer.brown@spiceworld.com',1),(38,'Organic Goodies','William Martinez','77766655','william.martinez@organicgoodies.com',1),(39,'Kitchen Essentials','Megan Miller','22233344','megan.miller@kitchenessentials.com',1),(40,'Baby Bliss','Christopher Taylor','66655544','christopher.taylor@babybliss.com',1),(41,'Fast Food Kingdom','Lauren Davis','11122233','lauren.davis@fastfoodkingdom.com',1),(42,'Cheese Delight','Ryan Garcia','44455566','ryan.garcia@cheesedelight.com',1),(43,'Veggie World','Olivia White','88899911','olivia.white@veggieworld.com',1);
/*!40000 ALTER TABLE `SUPPLIERS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TRANSACTIONTYPES`
--

DROP TABLE IF EXISTS `TRANSACTIONTYPES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TRANSACTIONTYPES` (
  `ID_TransactionType` int NOT NULL AUTO_INCREMENT,
  `TRANSACTIONTYPENAME` varchar(50) DEFAULT NULL,
  `ESTADE` tinyint(1) DEFAULT '1',
  PRIMARY KEY (`ID_TransactionType`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TRANSACTIONTYPES`
--

LOCK TABLES `TRANSACTIONTYPES` WRITE;
/*!40000 ALTER TABLE `TRANSACTIONTYPES` DISABLE KEYS */;
INSERT INTO `TRANSACTIONTYPES` VALUES (1,'Entrada',1),(2,'Salida',1),(3,'Ajuste',1),(4,'Transferencia',1);
/*!40000 ALTER TABLE `TRANSACTIONTYPES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'SUPERMARKET'
--
/*!50106 SET @save_time_zone= @@TIME_ZONE */ ;
/*!50106 DROP EVENT IF EXISTS `update_promotions_status` */;
DELIMITER ;;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;;
/*!50003 SET character_set_client  = utf8mb4 */ ;;
/*!50003 SET character_set_results = utf8mb4 */ ;;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;;
/*!50003 SET @saved_time_zone      = @@time_zone */ ;;
/*!50003 SET time_zone             = 'UTC' */ ;;
/*!50106 CREATE*/ /*!50117 DEFINER=`root`@`%`*/ /*!50106 EVENT `update_promotions_status` ON SCHEDULE EVERY 1 DAY STARTS '2024-01-28 00:32:53' ON COMPLETION NOT PRESERVE ENABLE DO BEGIN
    UPDATE PROMOTIONS
    SET ESTADE = 0
    WHERE END_DATE = CURDATE() AND ESTADE = 1;

    UPDATE PROMOTION_PRODUCTS
    SET ESTADE = 0
    WHERE PROMOTION_ID IN (
        SELECT ID
        FROM PROMOTIONS
        WHERE END_DATE = CURDATE() AND ESTADE = 1
    ) AND ESTADE = 1;
END */ ;;
/*!50003 SET time_zone             = @saved_time_zone */ ;;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;;
/*!50003 SET character_set_client  = @saved_cs_client */ ;;
/*!50003 SET character_set_results = @saved_cs_results */ ;;
/*!50003 SET collation_connection  = @saved_col_connection */ ;;
DELIMITER ;
/*!50106 SET TIME_ZONE= @save_time_zone */ ;

--
-- Dumping routines for database 'SUPERMARKET'
--
/*!50003 DROP PROCEDURE IF EXISTS `GET_EMPLOYEES` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `GET_EMPLOYEES`()
BEGIN
    SELECT 
        EMPLOYEES.*,
        EMPLOYEE_POSITIONS.POSITION_NAME
    FROM 
        EMPLOYEES
    INNER JOIN 
        EMPLOYEE_POSITIONS ON EMPLOYEES.POSITION = EMPLOYEE_POSITIONS.ID_POSITION;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `sp_get_inventory_info` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `sp_get_inventory_info`()
BEGIN
 SELECT 
        INVENTORY.*,
        PRODUCTS.*,
		PRODUCTS.NAME AS PRODUCTNAME,
        PRODUCT_CATEGORIES.CATEGORYNAME,
        SUPPLIERS.COMPANYNAME
    FROM 
        INVENTORY
    INNER JOIN 
        PRODUCTS ON INVENTORY.ID_PRODUCT = PRODUCTS.ID_PRODUCT
    INNER JOIN 
        PRODUCT_CATEGORIES ON PRODUCTS.CATEGORY = PRODUCT_CATEGORIES.ID_CATEGORY
    INNER JOIN 
        SUPPLIERS ON PRODUCTS.SUPPLIER = SUPPLIERS.ID_SUPPLIER
    WHERE PRODUCTS.ESTADE = 1;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `sp_get_inventory_info_by_Id` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `sp_get_inventory_info_by_Id`(IN categoryId INT)
BEGIN
    SELECT 
        INVENTORY.*,
        PRODUCTS.*,
        PRODUCT_CATEGORIES.CATEGORYNAME,
        SUPPLIERS.COMPANYNAME
    FROM 
        INVENTORY
    INNER JOIN 
        PRODUCTS ON INVENTORY.ID_PRODUCT = PRODUCTS.ID_PRODUCT
    INNER JOIN 
        PRODUCT_CATEGORIES ON PRODUCTS.CATEGORY = PRODUCT_CATEGORIES.ID_CATEGORY
    INNER JOIN 
        SUPPLIERS ON PRODUCTS.SUPPLIER = SUPPLIERS.ID_SUPPLIER
    WHERE PRODUCTS.ESTADE = 1 AND PRODUCTS.CATEGORY = categoryId;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `sp_get_inventory_info_by_Id_Supplier` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `sp_get_inventory_info_by_Id_Supplier`(IN proveedorId INT)
BEGIN
    SELECT
        INVENTORY.*,
        PRODUCTS.*,
        PRODUCT_CATEGORIES.CATEGORYNAME,
        SUPPLIERS.COMPANYNAME
    FROM
        INVENTORY
    INNER JOIN
        PRODUCTS ON INVENTORY.ID_PRODUCT = PRODUCTS.ID_PRODUCT
    INNER JOIN
        PRODUCT_CATEGORIES ON PRODUCTS.CATEGORY = PRODUCT_CATEGORIES.ID_CATEGORY
    INNER JOIN
        SUPPLIERS ON PRODUCTS.SUPPLIER = SUPPLIERS.ID_SUPPLIER
    WHERE PRODUCTS.ESTADE = 1 AND PRODUCTS.SUPPLIER = proveedorId;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `sp_get_inventory_transaction_info` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `sp_get_inventory_transaction_info`()
BEGIN
    SELECT
        INVENTORY_TRANSACTIONS.*,
        PRODUCTS.NAME AS ProductName,
        TRANSACTIONTYPES.TransactionTypeName AS TransactionType
    FROM
        SUPERMARKET.INVENTORY_TRANSACTIONS
    INNER JOIN
        TRANSACTIONTYPES ON INVENTORY_TRANSACTIONS.TRANSACTIONTYPE = TRANSACTIONTYPES.ID_TransactionType
    INNER JOIN
        PRODUCTS ON INVENTORY_TRANSACTIONS.ID_PRODUCT = PRODUCTS.ID_PRODUCT 
        ORDER BY INVENTORY_TRANSACTIONS.TRANSACTIONDATE desc;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `sp_get_products_info` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `sp_get_products_info`()
BEGIN
    SELECT 
        PRODUCTS.*,
        PRODUCT_CATEGORIES.CATEGORYNAME,
        SUPPLIERS.COMPANYNAME
    FROM 
        PRODUCTS
    INNER JOIN 
        PRODUCT_CATEGORIES ON PRODUCTS.CATEGORY = PRODUCT_CATEGORIES.ID_CATEGORY
    INNER JOIN 
        SUPPLIERS ON PRODUCTS.SUPPLIER = SUPPLIERS.ID_SUPPLIER 
    WHERE 
        PRODUCTS.ESTADE = 1;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `sp_get_products_info_by_Id` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `sp_get_products_info_by_Id`(
    IN productId INT
)
BEGIN
    SELECT 
        *
    FROM 
        PRODUCTS
    WHERE 
        PRODUCTS.ID_PRODUCT = productId;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `sp_get_sales_info` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `sp_get_sales_info`(   IN salesId INT)
BEGIN
    SELECT
        S.*,
        C.IDENTIFICATION AS CustomerIdentification,
        C.FIRSTNAME AS CustomerFirstName,
        C.LASTNAME AS CustomerLastName,
        SD.ID_SALEDETAIL,
        SD.QUANTITYSOLD,
        SD.UNITPRICE,
        SD.SUBTOTALPRODUCT,
        P.ID_PRODUCT,
        P.NAME AS ProductName,
        P.DESCRIPTION AS ProductDescription,
        P.PRICE AS ProductPrice,
        P.CATEGORY AS ProductCategory,
        P.SUPPLIER AS ProductSupplier,
        P.ESTADE AS ProductEstade,
        P.IMAGE_PATH AS ProductImagePath
    FROM
        SUPERMARKET.SALES AS S
    INNER JOIN
        CUSTOMERS AS C ON S.ID_CUSTOMER = C.ID_CUSTOMER
    INNER JOIN
        SALES_DETAIL AS SD ON S.ID_SALE = SD.ID_SALE
    INNER JOIN
        PRODUCTS AS P ON SD.ID_PRODUCT = P.ID_PRODUCT
     WHERE
        S.ID_SALE = salesId
    LIMIT 0, 1000;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `sp_insert_inventory_product` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `sp_insert_inventory_product`(
    IN product_name VARCHAR(100),
    IN product_description TEXT,
    IN product_price DECIMAL(10,2),
    IN product_category INT,
    IN product_supplier INT,
    IN product_estade TINYINT,
    IN product_image_path VARCHAR(10000)
)
BEGIN
    DECLARE new_product_id INT;
    
    -- Insertar en la tabla PRODUCTS
    INSERT INTO PRODUCTS (NAME, DESCRIPTION, PRICE, CATEGORY, SUPPLIER, ESTADE, IMAGE_PATH)
    VALUES (product_name, product_description, product_price, product_category, product_supplier, product_estade, product_image_path);
    
    -- Obtener el ID del producto recién insertado
    SET new_product_id = LAST_INSERT_ID();
    
    -- Insertar en la tabla INVENTORY
    INSERT INTO INVENTORY (ID_PRODUCT, QUANTITYINSTOCK, LASTREPLENISHMENTDATE, ESTADE)
    VALUES (new_product_id, 0, CURRENT_DATE(), 1);
    
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_INSERT_UPDATE_INVENTORY_TRANSACTION` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_INSERT_UPDATE_INVENTORY_TRANSACTION`(
    IN p_TRANSACTIONTYPE INT,
    IN p_ID_PRODUCT INT,
    IN p_QUANTITY INT
)
BEGIN
    -- Insertar nueva transacción
    INSERT INTO INVENTORY_TRANSACTIONS (TRANSACTIONTYPE, ID_PRODUCT, QUANTITY, TRANSACTIONDATE, ESTADE)
    VALUES (p_TRANSACTIONTYPE, p_ID_PRODUCT, p_QUANTITY, CURDATE(), 1);

    -- Actualizar la cantidad del producto en la tabla PRODUCTS
    IF p_TRANSACTIONTYPE = 1 THEN
        -- Entrada de productos
        UPDATE INVENTORY
        SET QUANTITYINSTOCK = QUANTITYINSTOCK + p_QUANTITY
        WHERE ID_PRODUCT = p_ID_PRODUCT;
    ELSEIF p_TRANSACTIONTYPE = 2 THEN
        -- Venta de productos
        UPDATE INVENTORY
        SET QUANTITYINSTOCK = QUANTITYINSTOCK - p_QUANTITY
        WHERE ID_PRODUCT = p_ID_PRODUCT;
    END IF;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2024-02-25 14:22:46
